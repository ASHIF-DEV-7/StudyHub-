<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Quiz Game</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap');
    :root{ --brand:#3b82f6; --ok:#16a34a; --warn:#f59e0b; --line:#e5e7eb; }
    *{ box-sizing:border-box; margin:0; padding:0; }
    body{
      font-family:'Poppins', Arial, sans-serif;
      background:#f9fafb; min-height:100vh; display:flex; flex-direction:column;
      color:#111827;
    }
    header{
      display:flex; justify-content:space-between; align-items:center;
      padding:14px 20px; background:#fff; border-bottom:1px solid var(--line);
      box-shadow:0 2px 6px rgba(0,0,0,.05);
    }
    header h1{ font-size:22px; font-weight:800; }
    .score-box{
      background:var(--brand); color:#fff; padding:8px 16px; border-radius:999px;
      font-weight:700; font-size:16px;
    }
    .quiz-card{
      flex:1; max-width:780px; margin:28px auto; background:#fff; border-radius:16px;
      padding:26px 22px; box-shadow:0 6px 18px rgba(0,0,0,.08); border:1px solid var(--line);
    }
    .question{ font-size:24px; font-weight:600; margin-bottom:16px; line-height:1.4; }
    .options{ display:grid; gap:14px; }
    .opt{
      font-size:20px; padding:14px 16px; border:2px solid var(--line); border-radius:12px;
      background:#f8fafc; cursor:pointer; text-align:left; transition:.2s;
    }
    .opt:hover{ background:#eef2ff; }
    .opt.picked{ border-color:var(--brand); background:#dbeafe; }
    .opt.correct{ background:#dcfce7; border-color:#22c55e; }
    .opt.wrong{ background:#fee2e2; border-color:#ef4444; }
    .keyword-input{
      width:100%; padding:14px; font-size:18px; border:2px solid var(--line);
      border-radius:12px; margin-top:10px;
    }
    .keyword-input:focus{ outline:none; border-color:var(--brand); box-shadow:0 0 0 3px rgba(59,130,246,.15); }
    .btn-row{ display:flex; gap:10px; justify-content:space-between; margin-top:20px; }
    .btn{
      flex:1; padding:14px; border:none; border-radius:12px; font-size:18px; font-weight:700; cursor:pointer; transition:.2s;
    }
    .btn:hover{ opacity:.92; }
    .submit-btn{ background:var(--brand); color:#fff; }
    .next-btn{ background:var(--ok); color:#fff; display:none; }
    .skip-btn{ background:var(--warn); color:#111; }

    /* Footer with floating bubbles + animated text */
    footer{ position:relative; height:80px; overflow:hidden; background:#0f172a; display:flex; align-items:center; justify-content:center; }
    .bubble{ position:absolute; bottom:-60px; width:60px; height:60px; border-radius:50%; opacity:.7; animation:rise 12s linear infinite; filter:blur(0.2px); }
    .bubble:nth-child(1){ left:10%; background:rgba(56,189,248,.6); animation-duration:14s; }
    .bubble:nth-child(2){ left:28%; background:rgba(236,72,153,.6); animation-duration:16s; width:50px; height:50px; }
    .bubble:nth-child(3){ left:50%; background:rgba(132,204,22,.6); animation-duration:18s; width:70px; height:70px; }
    .bubble:nth-child(4){ left:72%; background:rgba(250,204,21,.6); animation-duration:20s; }
    .bubble:nth-child(5){ left:90%; background:rgba(99,102,241,.6); animation-duration:22s; width:55px; height:55px; }
    @keyframes rise{ from{ transform:translateY(0) scale(1); opacity:.6; } to{ transform:translateY(-320px) scale(1.5); opacity:0; } }
    .footer-text{
      position:relative; z-index:2; font-size:22px; font-weight:800; color:#fff;
      animation:colorchange 8s infinite alternate ease-in-out, fontchange 12s infinite linear;
    }
    @keyframes colorchange{
      0%{ color:#60a5fa; text-shadow:0 0 8px #60a5fa; }
      25%{ color:#f472b6; text-shadow:0 0 8px #f472b6; }
      50%{ color:#4ade80; text-shadow:0 0 8px #4ade80; }
      75%{ color:#facc15; text-shadow:0 0 8px #facc15; }
      100%{ color:#a78bfa; text-shadow:0 0 8px #a78bfa; }
    }
    @keyframes fontchange{
      0%{ font-family:'Poppins',sans-serif; }
      25%{ font-family:Arial, sans-serif; }
      50%{ font-family:Georgia, serif; }
      75%{ font-family:\"Courier New\", monospace; }
      100%{ font-family:Verdana, sans-serif; }
    }
  </style>
</head>
<body>
  <header>
    <h1>Quiz Game</h1>
    <div class="score-box" id="scoreBox">Score: 0</div>
  </header>

  <div class="quiz-card">
    <div class="question" id="question">Loadingâ€¦</div>
    <div class="options" id="options"></div>
    <input type="text" class="keyword-input" id="keywordInput" style="display:none" placeholder="Type your answer here...">

    <div class="btn-row">
      <button class="btn submit-btn" id="submitBtn">Submit</button>
      <button class="btn next-btn" id="nextBtn">Next â†’</button>
      <button class="btn skip-btn" id="skipBtn">Skip</button>
    </div>
  </div>

  <footer>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="footer-text">Created by Ashif</div>
  </footer>

  <script>
    // ============= 50-Question Bank (Class 10: Light + Human Eye) =============
    // type: 'mcq' or 'fib' (fill-in-blank). For fib, 'answer' can be string OR array of accepted strings.
    const questions = [
      // Reflection & Mirrors
      {type:'mcq', q:'Which mirror always forms a virtual, erect and diminished image for real objects?', options:['Concave mirror','Convex mirror','Plane mirror','Parabolic mirror'], answer:1},
      {type:'mcq', q:'The image formed by a plane mirror is:', options:['Real and inverted','Virtual and erect, same size','Real and erect','Magnified and real'], answer:1},
      {type:'mcq', q:'Magnification (m) for mirrors is:', options:['m = v/u','m = u/v','m = f/u','m = u/f'], answer:0},
      {type:'fib', q:'Mirror formula: 1/f = 1/v + 1/__', answer:['u']},
      {type:'mcq', q:'Which mirror is used as a shaving/makeup mirror?', options:['Concave mirror','Convex mirror','Plane mirror','Cylindrical mirror'], answer:0},
      {type:'mcq', q:'Which mirror is commonly used as a rear-view mirror in vehicles?', options:['Concave','Convex','Plane','Cylindrical'], answer:1},
      {type:'mcq', q:'The principal focus of a concave mirror is located:', options:['Behind the mirror','At the pole','In front of the mirror','At infinity'], answer:2},
      {type:'fib', q:'A ray parallel to principal axis after reflection from a concave mirror passes through the ___.', answer:['focus','principal focus','f']},

      // Refraction & Lenses
      {type:'mcq', q:'The unit of power of a lens is:', options:['Watt','Newton','Dioptre','Joule'], answer:2},
      {type:'mcq', q:'A convex lens has focal length 20 cm. Its power is:', options:['+5 D','-5 D','+0.2 D','+20 D'], answer:0},
      {type:'mcq', q:'Which lens diverges light rays?', options:['Convex lens','Concave lens','Bifocal lens','Cylindrical lens'], answer:1},
      {type:'mcq', q:'A concave lens always forms an image that is:', options:['Real and inverted','Virtual, erect and diminished','Real and erect','Same size'], answer:1},
      {type:'mcq', q:'A convex lens forms a virtual, erect and magnified image when the object is:', options:['At infinity','Beyond 2F','At 2F','Between F and the lens'], answer:3},
      {type:'fib', q:'A ray passing through the ___ of a lens emerges undeviated.', answer:['optical centre','optical center','centre of the lens','center of the lens','optical-center','optical-centre']},
      {type:'fib', q:'Snellâ€™s law: nâ‚ sin i = nâ‚‚ sin ___.', answer:['r']},
      {type:'mcq', q:'For refraction from air to glass, the angle of refraction is generally:', options:['Greater than incidence','Equal to incidence','Less than incidence','Zero'], answer:2},
      {type:'mcq', q:'The sign convention for focal length of a concave lens is:', options:['Positive','Negative','Zero','Depends on object distance'], answer:1},
      {type:'mcq', q:'Power of a lens P equals:', options:['P = f (in metres)','P = 1/f (in metres)','P = fÂ²','P = 1/f (in cm)'], answer:1},
      {type:'fib', q:'The SI unit of refractive index is ___.', answer:['unitless','no unit','dimensionless','none']},

      // Defects & Human Eye
      {type:'mcq', q:'Myopia (short-sightedness) is corrected by:', options:['Convex lens','Concave lens','Cylindrical lens','Plane lens'], answer:1},
      {type:'mcq', q:'Hypermetropia (long-sightedness) is corrected by:', options:['Concave lens','Convex lens','Prism','Bifocal mirror'], answer:1},
      {type:'mcq', q:'Astigmatism is corrected by using:', options:['Spherical lens','Cylindrical lens','Plane mirror','Concave mirror'], answer:1},
      {type:'fib', q:'Least distance of distinct vision for a normal eye is ___ cm.', answer:['25','25 cm','twenty five','twenty-five']},
      {type:'mcq', q:'In the human eye, the image is formed on the:', options:['Cornea','Retina','Pupil','Iris'], answer:1},
      {type:'fib', q:'The colored part of the eye that controls the size of the pupil is the ___.', answer:['iris']},
      {type:'fib', q:'The eye lens shape is controlled by ___ muscles.', answer:['ciliary','ciliary muscles']},
      {type:'mcq', q:'The ability of the eye lens to adjust its focal length is called:', options:['Adaptation','Accommodation','Acclimatization','Adjustment'], answer:1},
      {type:'mcq', q:'The near point of a normal eye is approximately:', options:['Infinity','25 cm','2.5 cm','50 cm'], answer:1},
      {type:'mcq', q:'The far point of a normal human eye is:', options:['25 cm','2.5 m','Infinity','1 m'], answer:2},

      // Dispersion, Scattering, TIR
      {type:'mcq', q:'The separation of white light into its component colors is called:', options:['Reflection','Refraction','Dispersion','Interference'], answer:2},
      {type:'mcq', q:'In a primary rainbow, the color seen at the top is:', options:['Violet','Blue','Green','Red'], answer:3},
      {type:'mcq', q:'Sky appears blue mainly due to:', options:['Dispersion','Rayleigh scattering','TIR','Interference'], answer:1},
      {type:'mcq', q:'The Sun appears reddish at sunrise/sunset because:', options:['Blue light is scattered more and away','Red scatters more','No scattering occurs','Sun cools down'], answer:0},
      {type:'mcq', q:'Total internal reflection occurs when light travels:', options:['From rarer to denser medium','From denser to rarer medium with i > critical angle','At normal incidence','Only in vacuum'], answer:1},
      {type:'fib', q:'At Brewster angle the reflected light is completely ___-polarized.', answer:['plane','linearly','plane polarized','linearly polarized']},
      {type:'mcq', q:'The band of colors formed due to dispersion is called:', options:['Beam','Image','Spectrum','Halo'], answer:2},

      // Lens/Mirror Situations
      {type:'mcq', q:'If object is placed at 2F in a convex lens, the image is formed at:', options:['F','Between F and O','2F, same size and inverted','Beyond 2F, magnified'], answer:2},
      {type:'mcq', q:'If an object is placed between F and pole of a concave mirror, the image is:', options:['Real and inverted, magnified','Virtual, erect and magnified','Virtual, inverted and diminished','Real and erect'], answer:1},
      {type:'mcq', q:'For a convex mirror, the focal length is taken as:', options:['Positive','Negative','Zero','Depends on object'], answer:1},
      {type:'fib', q:'The center of curvature of a spherical mirror lies on the ___ axis.', answer:['principal','principal axis']},
      {type:'mcq', q:'A real image formed by a lens can be obtained on a screen because it is formed by:', options:['Actual convergence of rays','Apparent divergence of rays','No rays','Polarized rays'], answer:0},
      {type:'mcq', q:'For a plane mirror, the image distance is always:', options:['Greater than object distance','Equal to object distance','Less than object distance','Zero'], answer:1},
      {type:'fib', q:'Power P (in dioptres) is equal to ___ (1 divided by focal length in metres).', answer:['1/f','1 by f','inverse of focal length','one by f']},

      // Human Eye & Colorful World extras
      {type:'mcq', q:'The defect where near objects are not clearly visible is:', options:['Myopia','Hypermetropia','Astigmatism','Presbyopia'], answer:1},
      {type:'mcq', q:'Presbyopia usually occurs due to:', options:['Increased lens elasticity','Decreased lens elasticity with age','Change in cornea color','Change in pupil color'], answer:1},
      {type:'fib', q:'Night blindness is generally due to deficiency of Vitamin ___.', answer:['a','A']},
      {type:'mcq', q:'The splitting of white light by a prism shows that white light is:', options:['Monochromatic','Polychromatic','Invisible','Infrared only'], answer:1},
      {type:'mcq', q:'The angle between the incident ray and normal is called:', options:['Angle of deviation','Angle of incidence','Angle of refraction','Angle of reflection'], answer:1},
      {type:'mcq', q:'The relation between refractive index and speed (v) in medium is n = c / v. If n increases, v:', options:['Increases','Decreases','Remains same','Becomes zero'], answer:1},
      {type:'fib', q:'For small angles (in radians), sin i â‰ˆ ___.', answer:['i']},
      {type:'mcq', q:'In dispersion through prism, which color deviates the least?', options:['Violet','Indigo','Blue','Red'], answer:3},
      {type:'mcq', q:'A concave lens is also called a ___ lens.', options:['Converging','Diverging','Parabolic','Cylindrical'], answer:1},
      {type:'fib', q:'The reciprocal of focal length (in metres) is called the ___ of a lens.', answer:['power','power of lens','dioptre','diopter']},
      {type:'mcq', q:'For a normal eye, the range of vision is from:', options:['25 cm to infinity','1 m to infinity','10 cm to infinity','2.5 m to infinity'], answer:0},
      {type:'fib', q:'Image formed on retina is ___ (erect/inverted).', answer:['inverted']},
      {type:'mcq', q:'Which phenomenon explains glittering of air at hot road surfaces (mirage)?', options:['Reflection','Refraction with TIR','Diffraction','Interference'], answer:1}
    ];

    // ============= Quiz Engine =============
    let current = 0, score = 0, selectedOption = null;

    const qEl = document.getElementById('question');
    const optEl = document.getElementById('options');
    const keyIn = document.getElementById('keywordInput');
    const submitBtn = document.getElementById('submitBtn');
    const nextBtn = document.getElementById('nextBtn');
    const skipBtn = document.getElementById('skipBtn');
    const scoreBox = document.getElementById('scoreBox');

    function norm(s){
      return s.toString().toLowerCase().trim()
        .replace(/\s+/g,' ')
        .replace(/cm$/,'') // allow "25 cm" vs "25"
        .replace(/[^a-z0-9/.\- ]/g,''); // basic normalize
    }
    function isCorrectFib(input, answer){
      const inp = norm(input);
      if(Array.isArray(answer)){
        return answer.some(a => norm(a) === inp);
      }
      return norm(answer) === inp;
    }

    function loadQuestion(){
      const q = questions[current];
      qEl.textContent = `Level ${current+1}: ${q.q}`;
      optEl.innerHTML = '';
      keyIn.style.display = 'none';
      keyIn.value = '';
      nextBtn.style.display = 'none';
      selectedOption = null;

      if(q.type === 'mcq'){
        q.options.forEach((op,i)=>{
          const b = document.createElement('button');
          b.className = 'opt';
          b.textContent = op;
          b.onclick = ()=>selectOption(i);
          optEl.appendChild(b);
        });
      } else {
        keyIn.style.display = 'block';
      }
    }

    function selectOption(i){
      selectedOption = i;
      document.querySelectorAll('.opt').forEach((b,idx)=>{
        b.classList.toggle('picked', idx===i);
      });
    }

    submitBtn.onclick = ()=>{
      const q = questions[current];
      if(q.type === 'mcq'){
        if(selectedOption === null) return;
        const buttons = [...document.querySelectorAll('.opt')];
        buttons.forEach((b,idx)=>{
          if(idx === q.answer) b.classList.add('correct');
          if(idx === selectedOption && idx !== q.answer) b.classList.add('wrong');
        });
        if(selectedOption === q.answer){ score++; updateScore(); }
        nextBtn.style.display = 'inline-block';
      } else {
        const ans = keyIn.value;
        if(isCorrectFib(ans, q.answer)){
          keyIn.style.borderColor = 'green';
          score++; updateScore();
        } else {
          keyIn.style.borderColor = 'red';
        }
        nextBtn.style.display = 'inline-block';
      }
    };

    nextBtn.onclick = ()=>{ current++; if(current >= questions.length){ endGame(); } else { loadQuestion(); } };
    skipBtn.onclick = ()=>{ current++; if(current >= questions.length){ endGame(); } else { loadQuestion(); } };

    function updateScore(){ scoreBox.textContent = `Score: ${score}`; }
    function endGame(){
      qEl.textContent = `ðŸŽ‰ Quiz Finished! Final Score: ${score}/${questions.length}`;
      optEl.innerHTML = '';
      keyIn.style.display = 'none';
      submitBtn.style.display = 'none';
      nextBtn.style.display = 'none';
      skipBtn.style.display = 'none';
    }

    loadQuestion();
  </script>
</body>
<script src="script.js"></script>
</html>